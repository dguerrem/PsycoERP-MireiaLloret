<!-- Main container -->
<div class="p-4 md:p-6 space-y-6">

  <!-- Header section -->
  <app-section-header title="Gestión de Pacientes" subtitle="Administra los pacientes registrados en la plataforma"
    buttonText="Nuevo Paciente" (onButtonClick)="openCreateForm()">
  </app-section-header>

  <!-- Patients grid -->
  <app-patients-list [patients]="patientsList()" [trackByFn]="trackByPatientId" (onEdit)="openEditForm($event)"
    (onDelete)="openDeleteModal($event)">
  </app-patients-list>

  <!-- Pagination -->
  @if (paginationData()) {
    <app-pagination 
      [currentPage]="paginationData()!.currentPage"
      [totalPages]="paginationData()!.totalPages"
      [totalRecords]="paginationData()!.totalRecords"
      [recordsPerPage]="paginationData()!.recordsPerPage"
      [hasNextPage]="paginationData()!.hasNextPage"
      [hasPrevPage]="paginationData()!.hasPrevPage"
      (onPageChange)="onPageChange($event)"
      (onPageSizeChange)="onPageSizeChange($event)">
    </app-pagination>
  }

</div>

<!-- Patient Form Modal -->
<!-- TODO: Add patient form component when available -->

<!-- Delete Confirmation Modal -->
<app-confirmation-modal [isOpen]="deletingPatient() !== null" title="Confirmar Eliminación"
  message="¿Estás seguro de que deseas eliminar el paciente " [itemName]="deletingPatient()?.name" confirmText="Eliminar"
  cancelText="Cancelar" confirmButtonType="destructive" (onConfirm)="handleDeletePatient()"
  (onCancel)="closeDeleteModal()">
</app-confirmation-modal>
