<div [class]="cardClasses">
  <div class="p-4 space-y-3">
    <!-- Patient Name -->
    <div class="flex items-center justify-between">
      <h3 class="font-semibold text-foreground text-lg">{{ reminder.patientName }}</h3>
      @if (reminder.sent) {
        <div class="flex items-center justify-center w-8 h-8 bg-green-100 rounded-full">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 text-green-600">
            <path d="M20 6 9 17l-5-5"></path>
          </svg>
        </div>
      }
    </div>

    <!-- Session Time -->
    <div class="flex items-center gap-2 text-muted-foreground">
      <span class="text-sm font-medium">
        {{ formatTimeWithoutSeconds(reminder.startTime) }} - {{ formatTimeWithoutSeconds(reminder.endTime) }}
      </span>
    </div>

    <!-- Send Reminder Button -->
    <button
      [class]="buttonClasses"
      [disabled]="isButtonDisabled"
      (click)="onSendReminder()">
      @if (reminder.sent) {
        <!-- Sent Icon -->
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4">
          <path d="M20 6 9 17l-5-5"></path>
        </svg>
      } @else if (isLoading) {
        <!-- Loading Icon -->
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 animate-spin">
          <path d="M21 12a9 9 0 11-6.219-8.56"></path>
        </svg>
      } @else {
        <!-- Send Icon -->
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4">
          <path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"></path>
        </svg>
      }
      {{ buttonText }}
    </button>
  </div>

  <!-- Sent Overlay -->
  @if (reminder.sent) {
    <div class="absolute inset-0 bg-white/20 pointer-events-none"></div>
  }
</div>
